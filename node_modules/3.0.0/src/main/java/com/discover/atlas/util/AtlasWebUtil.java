package com.discover.atlas.util;

import java.util.Collection;
import java.util.HashMap;
import java.util.Map;

import javax.xml.bind.JAXBContext;
import javax.xml.bind.JAXBException;

public class AtlasWebUtil {
	
	public static JAXBContext getJAXBContext(Class<?> fiXml) throws JAXBException{

		 HashMap<String, JAXBContext> jaxbContextMap = new HashMap<String, JAXBContext>();
		String jaxbContextKey = fiXml.getCanonicalName();
		if(null == jaxbContextMap.get(jaxbContextKey)){
		  jaxbContextMap.put(jaxbContextKey, JAXBContext.newInstance(fiXml));		  
		  return (JAXBContext)jaxbContextMap.get(jaxbContextKey);
		}else{		
			return (JAXBContext)jaxbContextMap.get(jaxbContextKey);
		}
	}
	
	public static boolean isEmpty(Object obj) {

		if (obj == null) {
			return true;
		}

		if (obj instanceof String) {// String
			return ((String) obj).trim().length() == 0 ? true : false;
		} else if (obj instanceof Collection) {// List, Set
			return ((Collection<?>) obj).size() == 0 ? true : false;
		} else if (obj instanceof Map) {// Map
			return ((Map<?, ?>) obj).size() == 0 ? true : false;
		} else if (obj.getClass().isArray()) {// Array
			return (((Object[]) obj).length) == 0 ? true : false;
		} else { // Other Objects
			return false;
		}
	}
	

}
