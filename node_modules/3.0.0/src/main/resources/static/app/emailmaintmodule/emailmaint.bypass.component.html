
<section class="row col-md-12 email-bypass-maintance-scrn  ">

	<form #emailForm="ngForm">

		<section id="phone-number-maintance-scrn-section">
			<header>
				<h5>Email Maintenance</h5>
				<section class="well well-sm">
					<button class="btn btn-primary btn-submit" [disabled]="disabledNew"
						(click)="addNewEmailF()">New </button>
					<button class="btn btn-secondary" [disabled]="disabledDelete"
						(click)="deleteEmailF() ">Delete</button>
				</section>

			</header>

			<table class="table table-bordered">
				<thead>
					<tr class="row">
						<th class="col-md-6">Email</th>
						<th class="col-md-2">Type</th>
						<th class="col-md-4">Last Modified</th>
					</tr>
				</thead>

				<tbody>
					<tr *ngFor="let result of customer.phoneArray"
						(click)="onEditMailByPass(result)" class="row">

						<td class="col-md-5" *ngIf="result.phoneOrEmail == 'EMAIL' "><span
							*ngIf="result.badPhoneEmailIndicator == 'N'"><span
								class="glyphicon glyphicon-exclamation-sign"></span></span><span
							*ngIf="result.phoneEmailType == customer.preferredEmail"><span
								class="glyphicon glyphicon-ok"></span></span>{{result.emailID}}</td>
						<td class="col-md-2" *ngIf="result.phoneOrEmail == 'EMAIL' ">{{result.phoneEmailType}}</td>
						<td class="col-md-4" *ngIf="result.phoneOrEmail == 'EMAIL' ">{{result.lastUpdatedDate
							| date:'M/d/y'}}</td>
					</tr>
				</tbody>
			</table>
			<section class="add-new-phone-number"
				*ngIf="mail_bypass_maintenance_enablerow">
				<h5>View/Edit Email Address</h5>
				<hr>
				<section class="no-serving-calls-req">
					<section class="row">

						<article class="col-md-4">
							<h5>Email Address *</h5>
							<input email type="email" email name="emailaddress"
								[(ngModel)]="this.editEmail" #emailaddress
								(click)="disabledUpdateTable = false" />
						</article>
						<article
							*ngIf="this.result.phoneEmailType !== this.customer.preferredEmail"
							class="col-md-4">
							<span>Make Active:</span> <input type="checkbox"
								(click)="makePreferredF()" />
						</article>
						<article class="col-md-4">
							<h5>Type *</h5>
							<select [(ngModel)]="this.editType" name="mailbypassmaintance">
								<option [selected]="type.type == 'Select'"
									*ngFor="let type of emailTypeOptions" [attr.value]="type.value"
									(click)="typeF(type)">{{type.type}}</option>
							</select>
						</article>

					</section>
				</section>

				<footer *ngIf="mail_bypass_maintenance_enablerow"
					class="well well-sm mail-update-table">
					<section class="col-md-8"></section>
					<section>
						<button class="btn btn-secondary"
							(click)="EmailByPassModal = true">Cancel</button>
						<button class="btn btn-secondary update-table"
							(click)="updateTableF()"
							[disabled]='this.result.emailID == this.editEmail && this.disabledUpdateTable == true &&  this.makePreferredChecked == false|| emailForm.form.invalid'>Update
							Table</button>
					</section>
				</footer>
			</section>


			<section class="add-new-phone-number" *ngIf="addNewEmailView">

				<h5>Add New Email</h5>
				<hr>
				<section class="no-serving-calls-req">
					<section class="row">

						<article class="col-md-4">
							<h5>Email Address *</h5>
							<input email type="email" name="emailaddress"
								[(ngModel)]="newEmail.emailID" #emailaddress />

						</article>
						<article class="col-md-4">
							<span>Make Active:</span> <input type="checkbox"
								(click)="makePreferredF()" />
						</article>
						<article class="col-md-4">
							<h5>Type *</h5>
							<select [(ngModel)]="newEmail.phoneEmailType" name="newEmaiType">
								<option *ngFor="let type of emailTypeOptions"
									[attr.value]="type.value" (click)="typeF(type)">
									{{type.type}}</option>

							</select>
						</article>
					</section>
				</section>

				<footer *ngIf="addNewEmailView"
					class="well well-sm mail-update-table">
					<section class="col-md-8"></section>
					<section>
						<button class="btn btn-secondary"
							(click)="EmailByPassModal = true">Cancel</button>
						<button class="btn btn-secondary update-table"
							(click)="addTableF()"
							[disabled]="emailForm.form.invalid || disabledAddTable">Add
							to the table</button>

					</section>
				</footer>

			</section>





		</section>
		<footer class="well well-sm">
			<section class="col-md-10"></section>
			<section>
				<button class="btn btn-secondary"
					(click)="EmailByPassModalforMainCancel = true">Cancel</button>
				<button class="btn btn-primary btn-submit"
					(click)="mailByPassUpdate()" [disabled]="disabledSubmit">Submit</button>
			</section>
		</footer>


	</form>
</section>



<!-- MODALS SECTION MODALS SECTION MODALS SECTION MODALS SECTION MODALS SECTION MODALS SECTION MODALS SECTION -->





<section id="EmailByPassModal" class="confirmationModal" role="dialog"
	*ngIf="EmailByPassModal">
	<section class="modal-dialog">
		<section class="modal-content">
			<article class="modal-header">
				<button type="button" class="close"
					(click)="EmailByPassModal = false ">&times;</button>
				<h5 class="modal-title">Leave Task Confirmation</h5>
			</article>
			<article class="modal-body">
				<p class="col-md-2">
					<span class="glyphicon glyphicon-warning-sign"></span>
				</p>
				<p class="col-md-10">Leave Task without saving changes?</p>
			</article>
			<button class="btn btn-default" type="button"
				(click)="EmailByPassModal = false">Cancel</button>
			<button class="btn btn-default" type="button" (click)="cancelOkF()">OK</button>

		</section>
	</section>
</section>



<section class="confirmationModal" role="dialog" *ngIf="deleteConfPopUp">
	<section class="modal-dialog">
		<section class="modal-content">
			<article class="modal-header">
				<button type="button" class="close" (click)="deleteConfPopUp = false ">&times;</button>
				<h5 class="modal-title">Delete Confirmation</h5>
			</article>
			<article class="modal-body">
				<p class="col-md-2">
					<span class="glyphicon glyphicon-warning-sign"></span>
				</p>
				<p class="col-md-10">{{result.emailID }} will be deleted. Do you
					want to proceed?</p>
			</article>
			<button class="btn btn-default" type="button"
				(click)="deleteConfPopUp = false">Cancel</button>
			<button class="btn btn-default" type="button"
				(click)="deleteConfF()">OK</button>

		</section>
	</section>
</section>


<section class="confirmationModal" role="dialog"
	*ngIf="deleteAlert">
	<section class="modal-dialog">
		<section class="modal-content">
			<article class="modal-header">
				<button type="button" class="close"
					(click)="deleteAlert = false ">&times;</button>
				<h5 class="modal-title">Delete Alert</h5>
			</article>
			<article class="modal-body-2">
				<p class="col-md-2">
					<span class="glyphicon glyphicon-warning-sign"></span>
				</p>
				<p class="col-md-10">
					An active email address cannot be deleted. Another email address must be
					made active before the current selection can be deleted.
					</p>
			</article>
			<article class="modal-footer">
				<button class="btn btn-default" type="button"
					(click)="deleteAlert = false ">OK</button>
			</article>
		</section>
	</section>
</section>



<section id="EmailByPassModal" class="confirmationModal" role="dialog"
	*ngIf="EmailByPassModalforMainCancel">
	<section class="modal-dialog">
		<section class="modal-content">
			<article class="modal-header">
				<button type="button" class="close"
					(click)="EmailByPassModal = false ">&times;</button>
				<h5 class="modal-title">Leave Task Confirmation</h5>
			</article>
			<article class="modal-body">
				<p class="col-md-2">
					<span class="glyphicon glyphicon-warning-sign"></span>
				</p>
				<p class="col-md-10">Leave Task without saving changes?</p>
			</article>
			<article class="modal-footer">
				<button class="btn btn-default" type="button"
					(click)="EmailByPassModalforMainCancel = false">Cancel</button>
				<button class="btn btn-default" type="button"
					(click)="mainCancelF()">OK</button>
			</article>
		</section>
	</section>
</section>



<section class="confirmationModal" role="dialog"
	*ngIf="duplicateEmailModal">
	<section class="modal-dialog">
		<section class="modal-content">
			<article class="modal-header">
				<button type="button" class="close"
					(click)="duplicateEmailModal = false ">&times;</button>
				<h5 class="modal-title">Duplicate Email Type</h5>
			</article>
			<article class="modal-body-2">
				<p class="col-md-2">
					<span class="glyphicon glyphicon-warning-sign"></span>
				</p>
				<p class="col-md-10">
					Another email address with the {{type.type}} email type already
					exists. <br> You will not be able to submit this task untill
					you change one of the duplicate email types to a unique type.
				</p>
			</article>
			<article class="modal-footer">
				<button class="btn btn-default" type="button"
					(click)="duplicateEmailModal = false ">OK</button>
			</article>
		</section>
	</section>
</section>

<section class="confirmationModal" role="dialog"
	*ngIf="makePreferredModal">
	<section class="modal-dialog">
		<section class="modal-content">
			<article class="modal-header">
				<button type="button" class="close"
					(click)="makePreferredModal = false ">&times;</button>
				<h5 class="modal-title">Duplicate Email Type</h5>
			</article>
			<article class="modal-body-2">
				<p class="col-md-2">
					<span class="glyphicon glyphicon-warning-sign"></span>
				</p>
				<p class="col-md-10">
					This email address will replace the previously designated active
					email address. <br> This email address will be used for any
					subscriber alerts and notifications of login problems.
				</p>
			</article>
			<article class="modal-footer">
				<button class="btn btn-default" type="button"
					(click)="makePreferredModal = false ">OK</button>
			</article>
		</section>
	</section>
</section>

<section class="atlas-spinner" [hidden]="loadspinner">
	<article class="fa fa-spinner fa-spin"></article>
</section>

<!-- 
	
	

		  
				


 -->
