<div class="row">
	<div class="col-md-20">
		<h2>Search</h2>
		<form name="form" (ngSubmit)="f.form.valid && search()" #f="ngForm"
			novalidate>
			<div class="row">
				<div class="col-md-3">
					<div class="form-group"
						[ngClass]="{ 'has-error': f.submitted && !refnum.valid }">
						<label for="refnum">Reference Number</label> <input type="text"
							class="form-control" name="refnum" [(ngModel)]="model.refnum"
							#refnum="ngModel" required />
						<div *ngIf="f.submitted && !refnum.valid" class="help-block">Reference
							Number is required</div>
					</div>
				</div>
				<div class="col-md-3">
					<div class="form-group"
						[ngClass]="{ 'has-error': f.submitted && !reftype.valid }">
						<label for="reftype">Type</label> <select class="form-control"
							name="reftype" [(ngModel)]="model.reftype" #reftype="ngModel"
							required>
							<option value="AccountNum">Account#</option>
							<option value="CIF#">CIF#</option>
						</select>
						<div *ngIf="f.submitted && !reftype.valid" class="help-block">Type
							is required</div>
					</div>
				</div>
			</div>
			<div class="form-group">
				<button [disabled]="!f.valid" name="btn-search"
					class="btn btn-primary">Search</button>
			</div>

			<div class="row" *ngIf="customer">
				<div class="table-responsive">
					<table class="table table-hover">
						<thead>
							<tr>
								<th>Full Name</th>
								<th>SSN/TIN/EIN</th>
								<th>DOB</th>
								<th>Phone Number</th>
								<th>Address</th>
								<th>Email</th>
								<th>Zip Code</th>
								<th>Status</th>
								<th>Type</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let result of customer; index as i">
								<td><a [routerLink]="['knowme', result.cifNumber]">{{result.firstName}} {{result.lastName}}</a></td>
								<td>{{result.ssn}}</td>
								<td>{{result.dob}}</td>
								<td>{{result.preferredPhone}}</td>
								<td>{{result.addressArray[0].addressLine1}}</td>
								<td>{{result.preferredEmail}}</td>
								<td>{{result.addressArray[0].zipcode}}</td>
								<td>{{result.customerStatus}}</td>
								<td>{{result.customerType}}</td>								
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</form>
	</div>
</div>
